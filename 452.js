"use strict";(self.webpackChunkfinancesapp=self.webpackChunkfinancesapp||[]).push([[452],{7452:(G,d,n)=>{n.r(d),n.d(d,{ReceitasModule:()=>S});var l=n(6895),g=n(6630),f=n(5861),u=n(7871),h=n(9458),e=n(4650),x=n(8341),C=n(7696),v=n(7413),O=n(1377),R=n(1279),M=n(1223),P=n(1101),_=n(9824),T=n(3146),m=n(8548);function y(a,r){1&a&&e._UZ(0,"mat-progress-bar",12)}function b(a,r){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"Nenhuma receita cadastrada para este m\xeas"),e.qZA())}function Z(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"finances-app-listar-operacoes",13),e.NdJ("buscarOperacoes",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.buscarReceitas(!0))})("limparFiltro",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.limparFiltro())}),e.qZA()}if(2&a){const o=e.oxw();e.Q6J("mes",o.mes)("ano",o.ano)("operacoes",o.operacoesFiltradas)("shakeFiltro",(null==o.operacoesFiltradas?null:o.operacoesFiltradas.length)!==(null==o.operacoes?null:o.operacoes.length))}}function F(a,r){if(1&a&&(e.ynx(0),e._UZ(1,"div",14),e.BQk()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("options",o.graficoCategoria)("theme","dark")}}function A(a,r){if(1&a&&(e.ynx(0),e._UZ(1,"div",15),e.BQk()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("options",o.graficoBanco)("theme","dark")}}const B=[{path:"",component:(()=>{class a{constructor(o,t,i){var c=this;this.dialog=o,this._operacoesService=t,this._headerMesAnoService=i,this.operacoes=[],this.a=this._headerMesAnoService.getMesAno().subscribe(function(){var s=(0,f.Z)(function*(p){!p.mes||(c.mes=p.mes,c.ano=p.ano,c.calcularOperacoes(),c.calcularTotalPendente(),c.calcularTotalRecebido())});return function(p){return s.apply(this,arguments)}}()),this._operacoesService.getReceitas().subscribe(s=>{!s||(this.todasOperacoes=s,this.buscarReceitas())})}ngOnInit(){}ngOnDestroy(){this.a.unsubscribe()}configurarGraficoPorBanco(o){this.graficoBanco=this._operacoesService.configurarGraficoPorBanco(o,"receita")}configurarGraficoPorCategoria(o){this.graficoCategoria=this._operacoesService.configurarGraficoPorCategoria(o,"receita")}removeDuplicado(o){return o?.filter((t,i,c)=>i===c.findIndex(s=>s.name===t.name))}limparFiltro(){this.operacoesFiltradas=this.operacoes}filtrarPorBanco(o){this.operacoesFiltradas=this.operacoes.filter(t=>t.conta.instituicao===o.data.name)}buscarReceitas(o){var t=this;return(0,f.Z)(function*(){t.loading=!0,o&&t._operacoesService.consolidarCarteira(),t.operacoes=t.todasOperacoes,t.calcularOperacoes(),t.calcularTotalPendente(),t.calcularTotalRecebido(),t.loading=!1})()}calcularOperacoes(){this.operacoes=this._operacoesService.calcularOperacoes(this.todasOperacoes,this.mes,this.ano),this.operacoesFiltradas=this.operacoes,this.configurarGraficoPorCategoria(this.operacoes),this.configurarGraficoPorBanco(this.operacoes)}calcularTotalPendente(){!this.operacoes||(this.totalPendente=this.operacoes.filter(o=>!o.efetivado).reduce((o,t)=>o+t.valor,0))}calcularTotalRecebido(){!this.operacoes||(this.totalRecebido=this.operacoes.filter(o=>o.efetivado).reduce((o,t)=>o+t.valor,0))}adicionarReceita(){this.dialog.open(u.h,{width:"450px",maxWidth:"90%",autoFocus:!0,data:{tipoOperacao:"Receita",operacoes:this.todasOperacoes}}).afterClosed().subscribe(o=>{o&&this.buscarReceitas(!0)})}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(x.uw),e.Y36(h.E),e.Y36(C.E))},a.\u0275cmp=e.Xpm({type:a,selectors:[["finances-app-receitas"]],decls:20,vars:15,consts:[[1,"content_despesas"],[1,"header"],["titulo","Pendente","cor","#323DA4","icone","push_pin",1,"fitcard","mr-5",3,"loading","valor"],["titulo","Recebido","cor","#35AE96","icone","account_balance_wallet",1,"fitcard","mr-5",3,"loading","valor"],["mat-mini-fab","","color","primary","matTooltip","Adicionar Receita",1,"add_operacao",2,"background-color","rgb(53, 174, 150)",3,"click"],[1,"row",2,"width","100%","align-items","start"],[1,"col-4"],["mode","buffer",4,"ngIf"],[4,"ngIf"],["tipoOperacao","Receita","style","width: 100%;",3,"mes","ano","operacoes","shakeFiltro","buscarOperacoes","limparFiltro",4,"ngIf"],[1,"col-4",2,"margin-top","50px","border-right","1px solid #212121"],[1,"col-4",2,"margin-top","50px"],["mode","buffer"],["tipoOperacao","Receita",2,"width","100%",3,"mes","ano","operacoes","shakeFiltro","buscarOperacoes","limparFiltro"],["id","chart1","echarts","",1,"demo-chart",3,"options","theme"],["id","chart2","echarts","",1,"demo-chart",3,"options","theme"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"finances-app-fit-card",2),e.ALo(3,"currency"),e._UZ(4,"finances-app-fit-card",3),e.ALo(5,"currency"),e.TgZ(6,"button",4),e.NdJ("click",function(){return t.adicionarReceita()}),e.TgZ(7,"mat-icon"),e._uU(8,"add"),e.qZA()()(),e.TgZ(9,"div",5)(10,"div",6)(11,"h1"),e._uU(12,"Receitas"),e.qZA(),e.YNc(13,y,1,0,"mat-progress-bar",7),e.YNc(14,b,2,0,"mat-error",8),e.YNc(15,Z,1,4,"finances-app-listar-operacoes",9),e.qZA(),e.TgZ(16,"div",10),e.YNc(17,F,2,2,"ng-container",8),e.qZA(),e.TgZ(18,"div",11),e.YNc(19,A,2,2,"ng-container",8),e.qZA()()()),2&o&&(e.xp6(2),e.Q6J("loading",t.loading)("valor",e.xi3(3,9,t.totalPendente,"BRL")),e.xp6(2),e.Q6J("loading",t.loading)("valor",e.xi3(5,12,t.totalRecebido,"BRL")),e.xp6(9),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!(t.loading||null!=t.operacoes&&t.operacoes.length)),e.xp6(1),e.Q6J("ngIf",!t.loading&&t.operacoes.length),e.xp6(2),e.Q6J("ngIf",!t.loading&&(null==t.operacoes?null:t.operacoes.length)),e.xp6(2),e.Q6J("ngIf",null==t.graficoBanco.series[0].data?null:t.graficoBanco.series[0].data.length))},dependencies:[l.O5,v.M,O.lW,R.Hw,M.TO,P.pW,_.gM,T.o,m._w,l.H9],styles:[".content_despesas[_ngcontent-%COMP%]{padding:0 50px}.content_despesas[_ngcontent-%COMP%]   .main_header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.content_despesas[_ngcontent-%COMP%]   .main_header[_ngcontent-%COMP%]   .add_operacao[_ngcontent-%COMP%]{margin-left:30px}.content_despesas[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.content_despesas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-top:40px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.content_despesas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;font-weight:500}.content_despesas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .item-50[_ngcontent-%COMP%]{flex-basis:50%;padding:0 15px;margin-top:10px}.content_despesas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .item-100[_ngcontent-%COMP%]{flex:1;flex-basis:100%;padding:0 15px;margin-top:20px}@media only screen and (max-width: 768px){.col-4[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}.header[_ngcontent-%COMP%]{justify-content:space-between!important;padding:0 15px;margin-bottom:25px}.card_saldo_contas[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:55px!important}.content_despesas[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:row}.content_despesas[_ngcontent-%COMP%]{padding:0;margin-top:120px}.content[_ngcontent-%COMP%]{padding:0 15px}.add_operacao[_ngcontent-%COMP%]{position:fixed;right:10px;bottom:90px;width:55px;height:55px;z-index:9}}"]}),a})()}];let J=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[g.Bz.forChild(B),g.Bz]}),a})();var Q=n(5455),w=n(5512),I=n(9668);let S=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[l.ez,J,Q.M,w.h,I.b,m.Ns.forRoot({echarts:()=>n.e(734).then(n.bind(n,4734))})]}),a})()}}]);