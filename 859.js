"use strict";(self.webpackChunkfinancesapp=self.webpackChunkfinancesapp||[]).push([[859],{859:(V,g,t)=>{t.r(g),t.d(g,{HomeGestaoFinanceiraModule:()=>z});var _=t(6895),c=t(5861),u=t(7271),m=t(7871),f=t(9458),h=t(9282),e=t(4650),C=t(8341),v=t(7696),p=t(6630),x=t(1377),b=t(1279),Z=t(1101),A=t(9824),T=t(7413),M=t(3146),F=t(4178);function O(a,i){1&a&&e._UZ(0,"mat-progress-bar",11)}function G(a,i){if(1&a){const n=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"Cadastre uma conta para come\xe7ar"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.adicionarConta())}),e.TgZ(4,"mat-icon"),e._uU(5,"add"),e.qZA()()()}}function H(a,i){if(1&a){const n=e.EpF();e.ynx(0),e.TgZ(1,"span",17),e._uU(2,"Cadastre uma receita para este m\xeas"),e.qZA(),e.TgZ(3,"button",23),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(3);return e.KtG(r.adicionarReceita())}),e.TgZ(4,"mat-icon"),e._uU(5,"add"),e.qZA()(),e.BQk()}}function y(a,i){if(1&a){const n=e.EpF();e.TgZ(0,"finances-app-listar-operacoes",26),e.NdJ("buscarOperacoes",function(){e.CHM(n);const r=e.oxw(4);return e.KtG(r.buscarDados())}),e.qZA()}if(2&a){const n=e.oxw(4);e.Q6J("origin","home")("mes",n.mes)("ano",n.ano)("operacoes",n.receitasEmAberto)}}function E(a,i){if(1&a&&(e.ynx(0),e.TgZ(1,"div",24),e.YNc(2,y,1,4,"finances-app-listar-operacoes",25),e.qZA(),e.BQk()),2&a){const n=e.oxw(3);e.xp6(2),e.Q6J("ngIf",!n.loading)}}function J(a,i){1&a&&(e.TgZ(0,"div",27),e._uU(1," exibir todas as receitas "),e.qZA())}function P(a,i){if(1&a){const n=e.EpF();e.ynx(0),e.TgZ(1,"span",17),e._uU(2,"Cadastre uma despesa para este m\xeas"),e.qZA(),e.TgZ(3,"button",28),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(3);return e.KtG(r.adicionarDespesa())}),e.TgZ(4,"mat-icon"),e._uU(5,"add"),e.qZA()(),e.BQk()}}function Q(a,i){if(1&a){const n=e.EpF();e.TgZ(0,"finances-app-listar-operacoes",30),e.NdJ("buscarOperacoes",function(){e.CHM(n);const r=e.oxw(4);return e.KtG(r.buscarDados())}),e.qZA()}if(2&a){const n=e.oxw(4);e.Q6J("origin","home")("mes",n.mes)("ano",n.ano)("operacoes",n.despesasEmAberto)}}function S(a,i){if(1&a&&(e.ynx(0),e.TgZ(1,"div",24),e.YNc(2,Q,1,4,"finances-app-listar-operacoes",29),e.qZA(),e.BQk()),2&a){const n=e.oxw(3);e.xp6(2),e.Q6J("ngIf",!n.loading)}}function N(a,i){1&a&&(e.TgZ(0,"div",31),e._uU(1," exibir todas as despesas "),e.qZA())}function R(a,i){if(1&a&&(e.ynx(0),e.TgZ(1,"div",12)(2,"h1")(3,"span",19),e._uU(4,"Receitas"),e.qZA(),e._uU(5," em aberto "),e.qZA(),e.YNc(6,H,6,0,"ng-container",9),e.YNc(7,E,3,1,"ng-container",9),e.YNc(8,J,2,0,"div",20),e.qZA(),e.TgZ(9,"div",12)(10,"h1")(11,"span",21),e._uU(12,"Despesas"),e.qZA(),e._uU(13," em aberto "),e.qZA(),e.YNc(14,P,6,0,"ng-container",9),e.YNc(15,S,3,1,"ng-container",9),e.YNc(16,N,2,0,"div",22),e.qZA(),e.BQk()),2&a){const n=e.oxw(2);e.xp6(6),e.Q6J("ngIf",!(null!=n.receitasEmAberto&&n.receitasEmAberto.length)),e.xp6(1),e.Q6J("ngIf",null==n.receitasEmAberto?null:n.receitasEmAberto.length),e.xp6(1),e.Q6J("ngIf",n.receitasEsteMes>0),e.xp6(6),e.Q6J("ngIf",!(null!=n.despesasEmAberto&&n.despesasEmAberto.length)),e.xp6(1),e.Q6J("ngIf",null==n.despesasEmAberto?null:n.despesasEmAberto.length),e.xp6(1),e.Q6J("ngIf",n.despesasEsteMes>0)}}function I(a,i){if(1&a){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"h1")(3,"span",13),e._uU(4,"Saldo"),e.qZA(),e._uU(5," das Contas"),e.qZA(),e.YNc(6,G,6,0,"div",14),e.TgZ(7,"finances-app-listar-contas",15),e.NdJ("buscarContas",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.buscarContas())}),e.qZA()(),e.YNc(8,R,17,6,"ng-container",9),e.BQk()}if(2&a){const n=e.oxw();e.xp6(6),e.Q6J("ngIf",!(null!=n.contas&&n.contas.length)),e.xp6(1),e.Q6J("contas",n.contas)("origin","home"),e.xp6(1),e.Q6J("ngIf",null==n.contas?null:n.contas.length)}}const w=[{path:"",component:(()=>{class a{constructor(n,o,r,W,$,j){var d=this;this.dialog=n,this._headerMesAnoService=o,this._operacoesService=r,this._contaService=W,this.router=$,this.route=j,this.contas=[],this.despesas=[],this.receitas=[],this.despesasTotal=[],this.receitasTotal=[],this.a=this._headerMesAnoService.getMesAno().subscribe(function(){var s=(0,c.Z)(function*(l){!l.mes||(d.mes=l.mes,d.ano=l.ano,d.calcularOperacoes())});return function(l){return s.apply(this,arguments)}}()),this._contaService.getConta().subscribe(s=>{this.loading=!0,s&&(this.contas=s,this.calcularSaldoContas(),this.loading=!1)}),this._operacoesService.getReceitas().subscribe(s=>{!s||(this.receitasTotal=s,this.calcularOperacoes())}),this._operacoesService.getDespesas().subscribe(s=>{!s||(this.despesasTotal=s,this.calcularOperacoes())})}ngOnInit(){var n=this;return(0,c.Z)(function*(){n.route.snapshot.paramMap.get("redirect")})()}ngOnDestroy(){this.a.unsubscribe()}calcularOperacoes(){this.receitasEmAberto=this._operacoesService.calcularOperacoes(this.receitasTotal,this.mes,this.ano).filter(n=>!n.efetivado),this.despesasEmAberto=this._operacoesService.calcularOperacoes(this.despesasTotal,this.mes,this.ano).filter(n=>!n.efetivado),this.calcularReceitasEsteMes(),this.calcularDespesasEsteMes(),this.configurarGraficoPorCategoria(this.despesasEmAberto),this.configurarGraficoPorCategoriaReceita(this.receitasEmAberto)}buscarContas(){var n=this;return(0,c.Z)(function*(){n.contas=yield n._contaService.buscarContas().toPromise(),n._contaService.setConta(n.contas)})()}configurarGraficoPorCategoria(n){this.graficoCategoria=this._operacoesService.configurarGraficoPorCategoria(n,"despesa")}configurarGraficoPorCategoriaReceita(n){this.graficoCategoriaReceita=this._operacoesService.configurarGraficoPorCategoria(n,"receita")}buscarDados(){var n=this;return(0,c.Z)(function*(){n._operacoesService.consolidarCarteira(),yield n.calcularOperacoes()})()}redirecionar(n){this.router.navigate([`dashboard/${n}`])}adicionarConta(){var n=this;this.dialog.open(h.V,{width:"400px",autoFocus:!0,data:{tipoOperacao:"Despesa"}}).afterClosed().subscribe(function(){var o=(0,c.Z)(function*(r){r&&(n.buscarContas(),n.loading=!1)});return function(r){return o.apply(this,arguments)}}())}adicionarReceita(){this.dialog.open(m.h,{width:"450px",maxWidth:"90%",autoFocus:!0,data:{tipoOperacao:"Receita"}}).afterClosed().subscribe(n=>{n&&this._operacoesService.consolidarCarteira()})}adicionarDespesa(){var n=this;this.dialog.open(m.h,{width:"450px",maxWidth:"90%",autoFocus:!0,data:{tipoOperacao:"Despesa"}}).afterClosed().subscribe(function(){var o=(0,c.Z)(function*(r){r&&n._operacoesService.consolidarCarteira()});return function(r){return o.apply(this,arguments)}}())}calcularReceitasEsteMes(){this.receitasEsteMes=this._operacoesService.calcularOperacoes(this.receitasTotal,this.mes,this.ano).reduce((n,o)=>n+o.valor,0)}calcularDespesasEsteMes(){this.despesasEsteMes=this._operacoesService.calcularOperacoes(this.despesasTotal,this.mes,this.ano).reduce((n,o)=>n+o.valor,0)}calcularSaldoContas(){this.saldoContas=this.contas.reduce((n,o)=>n+o.saldo,0)}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(C.uw),e.Y36(v.E),e.Y36(f.E),e.Y36(u.p),e.Y36(p.F0),e.Y36(p.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["finances-app-home-gestao-financeira"]],decls:14,vars:19,consts:[[1,"content_home"],[1,"main_header"],[1,"header-home"],["titulo","Saldo em contas","cor","#323DA4","icone","attach_money",1,"pointer","saldo",3,"loading","valor","click"],["titulo","Receitas","cor","#35AE96","icone","arrow_upward","tooltip","Adicionar Receita",1,"pointer","operacao",3,"loading","valor","mostrarBtn","click"],["titulo","Despesas","cor","#FF604F","icone","arrow_downward","tooltip","Adicionar Despesa",1,"pointer","operacao",3,"loading","valor","mostrarBtn","click"],[1,"row","content"],[1,"col-12"],["mode","buffer",4,"ngIf"],[4,"ngIf"],[1,"col-6"],["mode","buffer"],[1,"col-4"],[2,"color","rgb(119 131 244)"],["class","cadastrar_conta",4,"ngIf"],[2,"width","100%",3,"contas","origin","buscarContas"],[1,"cadastrar_conta"],[2,"margin-right","20px"],["mat-mini-fab","","color","primary","matTooltip","Adicionar Conta",2,"background-color","#323da4",3,"click"],[2,"color","rgb(53, 174, 150)"],["class","all","routerLink","/dashboard/receitas","style","color: rgb(53, 174, 150);",4,"ngIf"],[2,"color","rgb(255, 96, 79)"],["class","all","routerLink","/dashboard/despesas","style","color: rgb(255, 96, 79);",4,"ngIf"],["mat-mini-fab","","color","primary","matTooltip","Adicionar Receita",2,"background-color","rgb(53, 174, 150)",3,"click"],[1,"operacoes_content"],["tipoOperacao","Receita","style","width: 100%;",3,"origin","mes","ano","operacoes","buscarOperacoes",4,"ngIf"],["tipoOperacao","Receita",2,"width","100%",3,"origin","mes","ano","operacoes","buscarOperacoes"],["routerLink","/dashboard/receitas",1,"all",2,"color","rgb(53, 174, 150)"],["mat-mini-fab","","color","primary","matTooltip","Adicionar Despesa",2,"background-color","rgb(255, 96, 79)",3,"click"],["tipoOperacao","Despesa","style","width: 100%;",3,"origin","mes","ano","operacoes","buscarOperacoes",4,"ngIf"],["tipoOperacao","Despesa",2,"width","100%",3,"origin","mes","ano","operacoes","buscarOperacoes"],["routerLink","/dashboard/despesas",1,"all",2,"color","rgb(255, 96, 79)"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"finances-app-fit-card",3),e.NdJ("click",function(){return o.redirecionar("contas")}),e.ALo(4,"currency"),e.qZA(),e.TgZ(5,"finances-app-fit-card",4),e.NdJ("click",function(){return o.redirecionar("receitas")}),e.ALo(6,"currency"),e.qZA(),e.TgZ(7,"finances-app-fit-card",5),e.NdJ("click",function(){return o.redirecionar("despesas")}),e.ALo(8,"currency"),e.qZA()(),e.TgZ(9,"div",6)(10,"div",7),e.YNc(11,O,1,0,"mat-progress-bar",8),e.qZA(),e.YNc(12,I,9,4,"ng-container",9),e.qZA(),e._UZ(13,"div",10),e.qZA()),2&n&&(e.xp6(3),e.Q6J("loading",o.loading)("valor",e.xi3(4,10,o.saldoContas,"BRL")),e.xp6(2),e.Q6J("loading",o.loading)("valor",e.xi3(6,13,o.receitasEsteMes,"BRL"))("mostrarBtn",!1),e.xp6(2),e.Q6J("loading",o.loading)("valor",e.xi3(8,16,o.despesasEsteMes,"BRL"))("mostrarBtn",!1),e.xp6(4),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},dependencies:[_.O5,p.rH,x.lW,b.Hw,Z.pW,A.gM,T.M,M.o,F.$,_.H9],styles:[".content_home[_ngcontent-%COMP%]{padding:0 50px}.content_home[_ngcontent-%COMP%]     .card_saldo_contas{background:transparent!important}.content_home[_ngcontent-%COMP%]   .main_header[_ngcontent-%COMP%]{margin-bottom:20px}.content_home[_ngcontent-%COMP%]   .header-home[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.content_home[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:40px}h1[_ngcontent-%COMP%]{font-size:30px;font-weight:500}.operacoes_content[_ngcontent-%COMP%]{max-height:400px;overflow-y:hidden}@media only screen and (min-width: 768px){.saldo[_ngcontent-%COMP%], .operacao[_ngcontent-%COMP%]{width:33%}}@media only screen and (max-width: 768px){.col-6[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;margin:20px 0}.operacoes_content[_ngcontent-%COMP%]{overflow-y:hidden}.header-home[_ngcontent-%COMP%]{flex-wrap:wrap}.saldo[_ngcontent-%COMP%]{width:100%!important}.operacao[_ngcontent-%COMP%]{width:50%!important}}.all[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer}"]}),a})()}];let D=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[p.Bz.forChild(w),p.Bz]}),a})();var Y=t(5512),B=t(529),U=t(5455),L=t(9668),k=t(8548),K=t(915);let z=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[_.ez,D,Y.h,B.JF,U.M,L.b,K.ContasModule,k.Ns.forRoot({echarts:()=>t.e(734).then(t.bind(t,4734))})]}),a})()}}]);