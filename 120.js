"use strict";(self.webpackChunkfinancesapp=self.webpackChunkfinancesapp||[]).push([[120],{120:(N,E,r)=>{r.r(E),r.d(E,{RelatoriosModule:()=>n});var p=r(6895),u=r(5455),f=r(5512),v=r(9668),S=r(8548),M=r(6630),x=r(5861),z=r(9458),O=r(7271),e=r(4650),b=r(1223),C=r(4006),R=r(8341),D=r(7696),L=r(9722),P=r(6201);function w(a,h){if(1&a&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&a){const i=h.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}const T=function(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]};let _=(()=>{class a{constructor(i,o,l,g,A){var y=this;this.dialog=i,this._headerMesAnoService=o,this._operacoesService=l,this._contaService=g,this.router=A,this.despesasTotal=[],this.receitasTotal=[],this.despesasXMeses=new e.vpe(null),this.receitasXMeses=new e.vpe(null),this.despesas=[],this.receitas=[],this.xMeses=13,this.selectControl=new C.NI(12),this.a=this._headerMesAnoService.getMesAno().subscribe(function(){var d=(0,x.Z)(function*(m){!m.mes||(y.mes=m.mes,y.ano=m.ano,y.calcularOperacoes())});return function(m){return d.apply(this,arguments)}}())}ngOnInit(){var i=this;return(0,x.Z)(function*(){i.loading=!0,yield i.calcularOperacoes(),i.loading=!1,i.selectControl.valueChanges.subscribe(o=>{i.xMeses=o,i.configurarGrafico(i.xMeses+1)})})()}ngOnDestroy(){this.a.unsubscribe()}calcularOperacoes(){this.receitasEmAberto=this._operacoesService.calcularOperacoes(this.receitasTotal,this.mes,this.ano),this.despesasEmAberto=this._operacoesService.calcularOperacoes(this.despesasTotal,this.mes,this.ano),this.configurarGrafico(this.xMeses)}configurarGrafico(i=7){const o=new Date;let l=[],g=[],A=[];for(let y=1;y<i;y++){let d;switch(o.getMonth()+1){case 1:d="Janeiro";break;case 2:d="Fevereiro";break;case 3:d="Mar\xe7o";break;case 4:d="Abril";break;case 5:d="Maio";break;case 6:d="Junho";break;case 7:d="Julho";break;case 8:d="Agosto";break;case 9:d="Setembro";break;case 10:d="Outubro";break;case 11:d="Novembro";break;case 12:d="Dezembro"}const m=this._operacoesService.calcularOperacoes(this.receitasTotal,o.getMonth()+1,o.getFullYear()),X=this._operacoesService.calcularOperacoes(this.despesasTotal,o.getMonth()+1,o.getFullYear());m.length&&X.length&&(l.push(m.reduce((F,V)=>F+V.valor,0)),g.push(X.reduce((F,V)=>F+V.valor,0)),A.push(d)),o.setMonth(o.getMonth()-1)}this.despesasXMeses.emit(g),this.receitasXMeses.emit(l),this.graficoBanco=this._operacoesService.configurarGraficoHome(A.reverse(),g.reverse(),l.reverse())}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(R.uw),e.Y36(D.E),e.Y36(z.E),e.Y36(O.p),e.Y36(M.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["finances-app-receita-x-despesa"]],inputs:{despesasTotal:"despesasTotal",receitasTotal:"receitasTotal"},outputs:{despesasXMeses:"despesasXMeses",receitasXMeses:"receitasXMeses"},decls:7,vars:5,consts:[[2,"display","flex","justify-content","center","margin-bottom","10px"],[2,"background","#d5d5d5","padding","10px","border-radius","5px","padding-bottom","0"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["id","chart1","echarts","",1,"demo-chart",3,"options","theme"],[3,"value"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"Meses"),e.qZA(),e.TgZ(4,"mat-select",2),e.YNc(5,w,2,2,"mat-option",3),e.qZA()()(),e._UZ(6,"div",4)),2&i&&(e.xp6(4),e.Q6J("formControl",o.selectControl),e.xp6(1),e.Q6J("ngForOf",e.DdM(4,T)),e.xp6(1),e.Q6J("options",o.graficoBanco)("theme","dark"))},dependencies:[p.sg,b.KE,b.hX,L.gD,P.ey,C.JJ,C.oH,S._w]}),a})();function Z(a,h){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"Nenhum dado para analisar, cadastre receitas e despesas"),e.qZA())}function U(a,h){if(1&a){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"finances-app-receita-x-despesa",4),e.NdJ("despesasXMeses",function(l){e.CHM(i);const g=e.oxw();return e.KtG(g.atribuirDadosDespesas(l))})("receitasXMeses",function(l){e.CHM(i);const g=e.oxw();return e.KtG(g.atribuirDadosReceitas(l))}),e.qZA()(),e.TgZ(3,"div",5)(4,"h3"),e._uU(5," Voc\xea "),e.TgZ(6,"span"),e._uU(7,"gasta"),e.qZA(),e._uU(8," em m\xe9dia "),e.TgZ(9,"span",6),e._uU(10),e.ALo(11,"currency"),e.qZA(),e._uU(12," por m\xeas "),e.qZA()(),e.TgZ(13,"div",5)(14,"h3",7),e._uU(15," Geralmente "),e.TgZ(16,"span"),e._uU(17,"sobra "),e.qZA(),e.TgZ(18,"span",8),e._uU(19),e.ALo(20,"currency"),e.qZA(),e._uU(21," por m\xeas "),e.qZA(),e.TgZ(22,"p",7),e._uU(23," em m\xe9dia voc\xea gasta "),e.TgZ(24,"b"),e._uU(25),e.qZA(),e._uU(26," do que voc\xea ganha "),e.qZA()(),e.TgZ(27,"div",5)(28,"h3",9),e._uU(29," Voc\xea "),e.TgZ(30,"span"),e._uU(31,"ganha"),e.qZA(),e._uU(32," em m\xe9dia "),e.TgZ(33,"span",10),e._uU(34),e.ALo(35,"currency"),e.qZA(),e._uU(36," por m\xeas "),e.qZA()(),e._UZ(37,"div",2),e.BQk()}if(2&a){const i=e.oxw();e.xp6(2),e.Q6J("despesasTotal",i.despesasTotal)("receitasTotal",i.receitasTotal),e.xp6(8),e.Oqu(e.xi3(11,6,i.mediaDespesa,"BRL")),e.xp6(9),e.Oqu(e.xi3(20,9,i.mediaSobra,"BRL")),e.xp6(6),e.hij("",i.porcentagemGasto,"%"),e.xp6(9),e.Oqu(e.xi3(35,12,i.mediaReceita,"BRL"))}}const s=[{path:"",component:(()=>{class a{constructor(i,o){this._operacoesService=i,this._contaService=o,this.despesasTotal=[],this.receitasTotal=[],this.contas=[],this.arrayDespesas=[],this.arrayReceitas=[],this._contaService.getConta().subscribe(l=>{!l||(this.contas=l)}),this._operacoesService.getReceitas().subscribe(l=>{!l||(this.receitasTotal=l)}),this._operacoesService.getDespesas().subscribe(l=>{!l||(this.despesasTotal=l)})}ngOnInit(){return(0,x.Z)(function*(){})()}calcularPorcentagem(){this.porcentagemGasto=100*this.mediaDespesa/this.mediaReceita,this.porcentagemGasto=this.porcentagemGasto.toFixed(2)}atribuirDadosDespesas(i){this.arrayDespesas=i.filter(o=>o),this.calcularMedias()}atribuirDadosReceitas(i){this.arrayReceitas=i.filter(o=>o),this.calcularMedias()}calcularMedias(){this.mediaDespesa=this.arrayDespesas.reduce((i,o)=>i+o,0)/this.arrayDespesas.length,this.mediaReceita=this.arrayReceitas.reduce((i,o)=>i+o,0)/this.arrayReceitas.length,this.mediaSobra=this.mediaReceita-this.mediaDespesa,this.calcularPorcentagem()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(z.E),e.Y36(O.p))},a.\u0275cmp=e.Xpm({type:a,selectors:[["finances-app-relatorios"]],decls:7,vars:2,consts:[[1,"content_despesas"],[1,"row",2,"width","100%","align-items","start"],[1,"col-12"],[4,"ngIf"],[3,"despesasTotal","receitasTotal","despesasXMeses","receitasXMeses"],[1,"col-4"],[2,"color","#ff6956"],[2,"text-align","center"],[2,"color","#fff"],[2,"text-align","right"],[2,"color","#3abfa5"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e._uU(4,"Relat\xf3rios"),e.qZA(),e.YNc(5,Z,2,0,"mat-error",3),e.qZA(),e.YNc(6,U,38,15,"ng-container",3),e.qZA()()),2&i&&(e.xp6(5),e.Q6J("ngIf",!o.despesasTotal.length||!o.receitasTotal.length),e.xp6(1),e.Q6J("ngIf",o.contas.length&&o.despesasTotal.length&&o.receitasTotal.length))},dependencies:[p.O5,b.TO,_,p.H9],styles:[".content_despesas[_ngcontent-%COMP%]{padding:0 50px}.content_despesas[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#bbb;margin-top:50px;font-size:40px;line-height:50px}.content_despesas[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:700}.content_despesas[_ngcontent-%COMP%]   .main_header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.content_despesas[_ngcontent-%COMP%]   .main_header[_ngcontent-%COMP%]   .add_operacao[_ngcontent-%COMP%]{margin-left:30px}.content_despesas[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.content_despesas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-top:40px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.content_despesas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;font-weight:500}.content_despesas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .item-50[_ngcontent-%COMP%]{flex-basis:50%;padding:0 15px;margin-top:10px}.content_despesas[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .item-100[_ngcontent-%COMP%]{flex:1;flex-basis:100%;padding:0 15px;margin-top:20px}@media only screen and (max-width: 768px){h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:left!important}.col-6[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}.header[_ngcontent-%COMP%]{justify-content:space-between!important;padding:0 15px;margin-bottom:25px}.card_saldo_contas[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:55px!important}.fitcard[_ngcontent-%COMP%]{width:50%}.content_despesas[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:row}.content_despesas[_ngcontent-%COMP%]{padding:0;margin-top:120px}.content_despesas[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#bbb;margin-top:50px;font-size:30px}.content[_ngcontent-%COMP%]{padding:0 15px}.add_operacao[_ngcontent-%COMP%]{position:fixed;right:25px;bottom:15px;width:55px;height:55px;z-index:999}}"]}),a})()}];let t=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[M.Bz.forChild(s),M.Bz]}),a})(),n=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[p.ez,u.M,f.h,v.b,t,C.UX,S.Ns.forRoot({echarts:()=>r.e(734).then(r.bind(r,4734))})]}),a})()},8548:(N,E,r)=>{r.d(E,{_w:()=>Z,Ns:()=>U});var p=r(5861),u=r(4650),f=r(1086),v=r(8896),S=r(8929),M=r(353),x=r(6498),z=r(3489);const O={leading:!0,trailing:!1};class D{constructor(s,t,n,a){this.duration=s,this.scheduler=t,this.leading=n,this.trailing=a}call(s,t){return t.subscribe(new L(s,this.duration,this.scheduler,this.leading,this.trailing))}}class L extends z.L{constructor(s,t,n,a,h){super(s),this.duration=t,this.scheduler=n,this.leading=a,this.trailing=h,this._hasTrailingValue=!1,this._trailingValue=null}_next(s){this.throttled?this.trailing&&(this._trailingValue=s,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(P,this.duration,{subscriber:this})),this.leading?this.destination.next(s):this.trailing&&(this._trailingValue=s,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const s=this.throttled;s&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),s.unsubscribe(),this.remove(s),this.throttled=null)}}function P(c){const{subscriber:s}=c;s.clearThrottle()}var w=r(7545);class T{constructor(s){this.changes=s}static of(s){return new T(s)}notEmpty(s){if(this.changes[s]){const t=this.changes[s].currentValue;if(null!=t)return(0,f.of)(t)}return v.E}has(s){return this.changes[s]?(0,f.of)(this.changes[s].currentValue):v.E}notFirst(s){return this.changes[s]&&!this.changes[s].isFirstChange()?(0,f.of)(this.changes[s].currentValue):v.E}notFirstAndEmpty(s){if(this.changes[s]&&!this.changes[s].isFirstChange()){const t=this.changes[s].currentValue;if(null!=t)return(0,f.of)(t)}return v.E}}const _=new u.OlP("NGX_ECHARTS_CONFIG");let Z=(()=>{class c{constructor(t,n,a){this.el=n,this.ngZone=a,this.autoResize=!0,this.loadingType="default",this.chartInit=new u.vpe,this.optionsError=new u.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.resize$=new S.xQ,this.echarts=t.echarts}ngOnChanges(t){const n=T.of(t);n.notFirstAndEmpty("options").subscribe(a=>this.onOptionsChange(a)),n.notFirstAndEmpty("merge").subscribe(a=>this.setOption(a)),n.has("loading").subscribe(a=>this.toggleLoading(!!a)),n.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(function R(c,s=M.P,t=O){return n=>n.lift(new D(c,s,t.leading,t.trailing))}(100,M.P,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize$.next())})),this.resizeOb.observe(this.el.nativeElement))}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(t){this.chart&&(t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(t,n){if(this.chart)try{this.chart.setOption(t,n)}catch(a){console.error(a),this.optionsError.emit(a)}}refreshChart(){var t=this;return(0,p.Z)(function*(){t.dispose(),yield t.initChart()})()}createChart(){const t=this.el.nativeElement;if(window&&window.getComputedStyle){const n=window.getComputedStyle(t,null).getPropertyValue("height");(!n||"0px"===n)&&(!t.style.height||"0px"===t.style.height)&&(t.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:a})=>a(t,this.theme,this.initOpts)))}initChart(){var t=this;return(0,p.Z)(function*(){yield t.onOptionsChange(t.options),t.merge&&t.chart&&t.setOption(t.merge)})()}onOptionsChange(t){var n=this;return(0,p.Z)(function*(){!t||(n.chart||(n.chart=yield n.createChart(),n.chartInit.emit(n.chart)),n.setOption(n.options,!0))})()}createLazyEvent(t){return this.chartInit.pipe((0,w.w)(n=>new x.y(a=>(n.on(t,h=>this.ngZone.run(()=>a.next(h))),()=>{this.chart&&(this.chart.isDisposed()||n.off(t))}))))}}return c.\u0275fac=function(t){return new(t||c)(u.Y36(_),u.Y36(u.SBq),u.Y36(u.R0b))},c.\u0275dir=u.lG2({type:c,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[u.TTD]}),c})(),U=(()=>{class c{static forRoot(t){return{ngModule:c,providers:[{provide:_,useValue:t}]}}static forChild(){return{ngModule:c}}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({}),c})()}}]);